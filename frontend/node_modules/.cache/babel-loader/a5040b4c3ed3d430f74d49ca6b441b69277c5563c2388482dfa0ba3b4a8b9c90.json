{"ast":null,"code":"import React,{useEffect,useState,useCallback}from\"react\";import{FileText,ChevronRight,ChevronLeft,RefreshCw,AlertTriangle,CheckCircle,XCircle,Play,Clock,User,ArrowRight,Package2,Zap,TrendingUp,TrendingDown,Minus}from\"lucide-react\";import api from\"../api/client\";/* ── shared style maps ─────────────────────────────────────────────────── */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const STATE_STYLE={PROPOSED:\"bg-indigo-500/15 text-indigo-300 border-indigo-500/30\",UNDER_REVIEW:\"bg-amber-500/15  text-amber-300  border-amber-500/30\",APPROVED:\"bg-emerald-500/15 text-emerald-300 border-emerald-500/30\",EXECUTED:\"bg-teal-500/15   text-teal-300   border-teal-500/30\",REJECTED:\"bg-red-500/15    text-red-300    border-red-500/30\",WITHDRAWN:\"bg-slate-500/15  text-slate-400  border-slate-600\"};const TYPE_STYLE={SUBSTITUTION:\"bg-purple-500/15 text-purple-300 border-purple-500/30\",MODIFICATION:\"bg-blue-500/15   text-blue-300   border-blue-500/30\",DECOMMISSION:\"bg-red-500/15    text-red-300    border-red-500/30\",ADDITION:\"bg-emerald-500/15 text-emerald-300 border-emerald-500/30\"};const StateBadge=_ref=>{var _STATE_STYLE$state;let{state}=_ref;return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-0.5 rounded border text-[10px] font-mono font-semibold\\n    \".concat((_STATE_STYLE$state=STATE_STYLE[state])!==null&&_STATE_STYLE$state!==void 0?_STATE_STYLE$state:\"bg-slate-700 text-slate-300 border-slate-600\"),children:state});};const TypeBadge=_ref2=>{var _TYPE_STYLE$type;let{type}=_ref2;return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-0.5 rounded border text-[10px] font-mono\\n    \".concat((_TYPE_STYLE$type=TYPE_STYLE[type])!==null&&_TYPE_STYLE$type!==void 0?_TYPE_STYLE$type:\"bg-slate-700 text-slate-400 border-slate-600\"),children:type});};const Spinner=()=>/*#__PURE__*/_jsx(RefreshCw,{size:14,className:\"animate-spin text-slate-500\"});const Err=_ref3=>{let{msg}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-red-400 bg-red-500/10 border border-red-500/20 rounded px-3 py-2 my-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:13}),\" \",msg]});};const ts=iso=>iso?new Date(iso).toLocaleString():\"—\";const TERMINAL=new Set([\"EXECUTED\",\"REJECTED\",\"WITHDRAWN\"]);/* ── simulation result panel ─────────────────────────────────────────── */const OUTCOME_STYLE={ALLOW:\"text-emerald-300\",FLAG:\"text-amber-300\",DENY:\"text-red-300\"};const SeverityBadge=_ref4=>{var _m$severity;let{severity}=_ref4;const m={CRITICAL:\"bg-red-500/15    text-red-300    border-red-500/30\",WARNING:\"bg-amber-500/15  text-amber-300  border-amber-500/30\",INFORMATIONAL:\"bg-blue-500/15   text-blue-300   border-blue-500/30\"};return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-0.5 rounded border text-[10px] font-mono font-semibold\\n      \".concat((_m$severity=m[severity])!==null&&_m$severity!==void 0?_m$severity:\"bg-slate-700 text-slate-300 border-slate-600\"),children:severity});};const DeltaIcon=_ref5=>{let{delta}=_ref5;if(delta>0)return/*#__PURE__*/_jsx(TrendingUp,{size:12,className:\"text-red-400\"});if(delta<0)return/*#__PURE__*/_jsx(TrendingDown,{size:12,className:\"text-emerald-400\"});return/*#__PURE__*/_jsx(Minus,{size:12,className:\"text-slate-600\"});};function SimulationPanel(_ref6){var _OUTCOME_STYLE$result;let{amendmentId,onClose}=_ref6;const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[result,setResult]=useState(null);useEffect(()=>{setLoading(true);setError(null);api.post(\"/amendments/\".concat(amendmentId,\"/simulate\")).then(r=>setResult(r.data)).catch(e=>{var _e$response$data$deta,_e$response,_e$response$data,_e$response$data$deta2;return setError((_e$response$data$deta=e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:(_e$response$data$deta2=_e$response$data.detail)===null||_e$response$data$deta2===void 0?void 0:_e$response$data$deta2.message)!==null&&_e$response$data$deta!==void 0?_e$response$data$deta:e.message);}).finally(()=>setLoading(false));},[amendmentId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 bg-[#0a0a10] border border-indigo-500/20 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-2.5 border-b border-slate-800 bg-indigo-500/5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Zap,{size:13,className:\"text-indigo-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[11px] font-mono text-indigo-300 uppercase tracking-widest\",children:\"Impact Simulation\"}),result&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] text-slate-600 font-mono\",children:[\"\\u2014 \",result.simulated_event_type]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-600 hover:text-slate-400 text-xs transition-colors\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-slate-500 text-xs py-2\",children:[/*#__PURE__*/_jsx(Spinner,{}),\" Running simulation\\u2026\"]}),error&&/*#__PURE__*/_jsx(Err,{msg:error}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\",children:\"Predicted\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-mono font-bold \".concat((_OUTCOME_STYLE$result=OUTCOME_STYLE[result.predicted_outcome])!==null&&_OUTCOME_STYLE$result!==void 0?_OUTCOME_STYLE$result:\"text-slate-200\"),children:result.predicted_outcome}),result.risk_delta.current_outcome&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-slate-600 mt-0.5\",children:[\"was \",/*#__PURE__*/_jsx(\"span\",{className:OUTCOME_STYLE[result.risk_delta.current_outcome],children:result.risk_delta.current_outcome}),result.risk_delta.outcome_changed&&/*#__PURE__*/_jsx(\"span\",{className:\"text-amber-500 ml-1\",children:\"\\u2190 changed\"})]}),!result.risk_delta.current_outcome&&/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-700 mt-0.5\",children:\"no prior evaluation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\",children:\"Critical \\u0394\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(DeltaIcon,{delta:result.risk_delta.critical_delta}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-mono font-bold tabular-nums \".concat(result.risk_delta.critical_delta>0?\"text-red-300\":result.risk_delta.critical_delta<0?\"text-emerald-300\":\"text-slate-500\"),children:[result.risk_delta.critical_delta>0?\"+\":\"\",result.risk_delta.critical_delta]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\",children:\"Warning \\u0394\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(DeltaIcon,{delta:result.risk_delta.warning_delta}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-mono font-bold tabular-nums \".concat(result.risk_delta.warning_delta>0?\"text-amber-300\":result.risk_delta.warning_delta<0?\"text-emerald-300\":\"text-slate-500\"),children:[result.risk_delta.warning_delta>0?\"+\":\"\",result.risk_delta.warning_delta]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\",children:[\"Predicted Violations (\",result.predicted_violations.length,\")\"]}),result.predicted_violations.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-emerald-400 bg-emerald-500/5 border border-emerald-500/20 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:12}),\" No violations predicted.\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1.5\",children:result.predicted_violations.map((v,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(SeverityBadge,{severity:v.severity}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-mono text-slate-400\",children:v.rule_code})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:v.message})]},i))})]}),result.affected_downstream_system_ids.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-amber-500/5 border border-amber-500/20 rounded p-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\",children:[\"Affected Downstream (\",result.affected_downstream_system_ids.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1.5\",children:result.affected_downstream_system_ids.map(id=>/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] font-mono text-amber-300 bg-amber-500/10 border border-amber-500/20 px-2 py-0.5 rounded\",children:[String(id).substring(0,8),\"\\u2026\"]},id))})]})]})]})]});}function ActionPanel(_ref7){let{amendmentId,action,onDone,onCancel}=_ref7;const isExecute=action===\"execute\";const[actor,setActor]=useState(\"\");const[notes,setNotes]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const label={approve:\"Approve\",reject:\"Reject\",execute:\"Execute\"}[action];const actKey=isExecute?\"resolved_by\":\"transitioned_by\";const accent={approve:\"bg-emerald-600 hover:bg-emerald-500\",reject:\"bg-red-700    hover:bg-red-600\",execute:\"bg-teal-700   hover:bg-teal-600\"}[action];const submit=async()=>{if(!actor.trim()){setError(\"Actor name is required.\");return;}setLoading(true);setError(null);try{await api.post(\"/amendments/\".concat(amendmentId,\"/\").concat(action),{[actKey]:actor.trim(),notes:notes.trim()||null});onDone();}catch(e){var _ref8,_e$response$data$deta3,_e$response2,_e$response2$data,_e$response2$data$det,_e$response3,_e$response3$data;setError((_ref8=(_e$response$data$deta3=e===null||e===void 0?void 0:(_e$response2=e.response)===null||_e$response2===void 0?void 0:(_e$response2$data=_e$response2.data)===null||_e$response2$data===void 0?void 0:(_e$response2$data$det=_e$response2$data.detail)===null||_e$response2$data$det===void 0?void 0:_e$response2$data$det.message)!==null&&_e$response$data$deta3!==void 0?_e$response$data$deta3:e===null||e===void 0?void 0:(_e$response3=e.response)===null||_e$response3===void 0?void 0:(_e$response3$data=_e$response3.data)===null||_e$response3$data===void 0?void 0:_e$response3$data.detail)!==null&&_ref8!==void 0?_ref8:e.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 bg-[#0d0d14] border border-slate-700 rounded-lg p-4 space-y-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-400 font-mono font-semibold uppercase tracking-widest\",children:[label,\" Amendment\"]}),error&&/*#__PURE__*/_jsx(Err,{msg:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-[11px] text-slate-500\",children:[isExecute?\"Resolved by\":\"Actioned by\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{value:actor,onChange:e=>setActor(e.target.value),placeholder:\"actor / system identifier\",className:\"w-full bg-[#09090e] border border-slate-700 rounded px-3 py-1.5 text-xs text-slate-200 placeholder-slate-600 focus:outline-none focus:border-indigo-500 transition-colors\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-[11px] text-slate-500\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),rows:2,placeholder:\"Rationale or context\\u2026\",className:\"w-full bg-[#09090e] border border-slate-700 rounded px-3 py-1.5 text-xs text-slate-200 placeholder-slate-600 focus:outline-none focus:border-indigo-500 transition-colors resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 pt-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:submit,disabled:loading,className:\"px-4 py-1.5 rounded text-xs font-semibold text-white\\n            transition-colors disabled:opacity-40 \".concat(accent),children:loading?\"Submitting…\":\"Confirm \".concat(label)}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,disabled:loading,className:\"px-3 py-1.5 rounded text-xs text-slate-400 hover:text-slate-200 border border-slate-700 hover:border-slate-600 transition-colors\",children:\"Cancel\"})]})]});}/* ── amendment detail panel ────────────────────────────────────────────── */function AmendmentDetail(_ref9){var _d$resolved_by,_d$transitions$length,_d$transitions;let{amendmentId,onClose}=_ref9;const[d,setD]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[action,setAction]=useState(null);// \"approve\" | \"reject\" | \"execute\"\nconst[showSim,setShowSim]=useState(false);const load=useCallback(()=>{setLoading(true);setError(null);setAction(null);api.get(\"/amendments/\".concat(amendmentId)).then(r=>setD(r.data)).catch(e=>{var _e$response$data$deta4,_e$response4,_e$response4$data,_e$response4$data$det;return setError((_e$response$data$deta4=e===null||e===void 0?void 0:(_e$response4=e.response)===null||_e$response4===void 0?void 0:(_e$response4$data=_e$response4.data)===null||_e$response4$data===void 0?void 0:(_e$response4$data$det=_e$response4$data.detail)===null||_e$response4$data$det===void 0?void 0:_e$response4$data$det.message)!==null&&_e$response$data$deta4!==void 0?_e$response$data$deta4:e.message);}).finally(()=>setLoading(false));},[amendmentId]);useEffect(()=>{load();},[load]);if(loading)return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 flex items-center gap-2 text-slate-500\",children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"Loading\\u2026\"})]});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsx(Err,{msg:error})});if(!d)return null;const isTerminal=TERMINAL.has(d.current_state);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 py-4 border-b border-slate-800 flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(FileText,{size:14,className:\"text-indigo-400 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold font-mono text-slate-100 truncate\",children:d.amendment_code}),/*#__PURE__*/_jsx(StateBadge,{state:d.current_state}),/*#__PURE__*/_jsx(TypeBadge,{type:d.amendment_type})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 mt-1.5 leading-relaxed\",children:d.description})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"ml-3 text-slate-600 hover:text-slate-300 text-sm transition-colors flex-shrink-0\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto px-5 py-4 space-y-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[[\"Amendment ID\",d.amendment_id,\"mono\"],[\"Target System\",d.target_system_id,\"mono\"],[\"Proposed By\",d.proposed_by,\"\"],[\"Proposed At\",ts(d.proposed_at),\"\"],[\"Resolved By\",(_d$resolved_by=d.resolved_by)!==null&&_d$resolved_by!==void 0?_d$resolved_by:\"—\",\"\"],[\"Resolved At\",ts(d.resolved_at),\"\"]].map(_ref0=>{let[label,val,cls]=_ref0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\",children:label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-300 break-all \".concat(cls===\"mono\"?\"font-mono\":\"\"),children:val})]},label);})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\",children:\"Simulation\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSim(v=>!v),className:\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs bg-indigo-600/15 text-indigo-300 border border-indigo-500/30 hover:bg-indigo-600/25 transition-colors\",children:[/*#__PURE__*/_jsx(Zap,{size:12}),\" \",showSim?\"Hide Simulation\":\"Run Impact Simulation\"]}),showSim&&/*#__PURE__*/_jsx(SimulationPanel,{amendmentId:d.amendment_id,onClose:()=>setShowSim(false)})]}),!isTerminal&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\",children:\"Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-wrap\",children:[(d.current_state===\"PROPOSED\"||d.current_state===\"UNDER_REVIEW\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAction(action===\"approve\"?null:\"approve\"),className:\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs bg-emerald-600/20 text-emerald-300 border border-emerald-600/30 hover:bg-emerald-600/30 transition-colors\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:12}),\" Approve\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAction(action===\"reject\"?null:\"reject\"),className:\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs bg-red-600/20 text-red-300 border border-red-600/30 hover:bg-red-600/30 transition-colors\",children:[/*#__PURE__*/_jsx(XCircle,{size:12}),\" Reject\"]})]}),d.current_state===\"APPROVED\"&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAction(action===\"execute\"?null:\"execute\"),className:\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs bg-teal-600/20 text-teal-300 border border-teal-600/30 hover:bg-teal-600/30 transition-colors\",children:[/*#__PURE__*/_jsx(Play,{size:12}),\" Execute\"]})]}),action&&/*#__PURE__*/_jsx(ActionPanel,{amendmentId:d.amendment_id,action:action,onDone:load,onCancel:()=>setAction(null)})]}),d.is_consumed&&d.consumption&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-teal-500/5 border border-teal-500/20 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",children:[/*#__PURE__*/_jsx(Package2,{size:13,className:\"text-teal-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest\",children:\"Consumed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono mb-0.5\",children:\"Consumed At\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:ts(d.consumption.consumed_at)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono mb-0.5\",children:\"Operation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 font-mono\",children:d.consumption.consumed_by_op})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono mb-0.5\",children:\"Entity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 font-mono text-[10px] break-all\",children:d.consumption.consuming_entity_id})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono mb-0.5\",children:\"Entity Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300\",children:d.consumption.consuming_entity_type})]}),d.consumption.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-slate-600 font-mono mb-0.5\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:d.consumption.notes})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\",children:[\"Transition History (\",(_d$transitions$length=(_d$transitions=d.transitions)===null||_d$transitions===void 0?void 0:_d$transitions.length)!==null&&_d$transitions$length!==void 0?_d$transitions$length:0,\")\"]}),!d.transitions||d.transitions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-700\",children:\"No transitions recorded.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:d.transitions.map((t,i)=>{var _t$transition_id,_t$from_state;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#0d0d14] border border-slate-800 rounded p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-mono text-slate-500\",children:(_t$from_state=t.from_state)!==null&&_t$from_state!==void 0?_t$from_state:\"—\"}),/*#__PURE__*/_jsx(ArrowRight,{size:10,className:\"text-slate-700 flex-shrink-0\"}),/*#__PURE__*/_jsx(StateBadge,{state:t.to_state}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto text-[10px] text-slate-600\",children:ts(t.transitioned_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 mt-1.5\",children:[/*#__PURE__*/_jsx(User,{size:10,className:\"text-slate-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-slate-500 font-mono\",children:t.transitioned_by}),t.notes&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] text-slate-600 ml-2\",children:[\"\\u2014 \",t.notes]})]})]},(_t$transition_id=t.transition_id)!==null&&_t$transition_id!==void 0?_t$transition_id:i);})})]})]})]});}/* ── amendment list ─────────────────────────────────────────────────────── */const STATE_FILTERS=[\"ALL\",\"PROPOSED\",\"UNDER_REVIEW\",\"APPROVED\",\"EXECUTED\",\"REJECTED\",\"WITHDRAWN\"];const PAGE_SIZE=20;export default function AmendmentConsole(){const[amendments,setAmendments]=useState([]);const[total,setTotal]=useState(0);const[page,setPage]=useState(1);const[hasNext,setHasNext]=useState(false);const[stateFilter,setStateFilter]=useState(\"ALL\");const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selected,setSelected]=useState(null);const load=useCallback(async function(){let pg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:page;let sf=arguments.length>1&&arguments[1]!==undefined?arguments[1]:stateFilter;setLoading(true);setError(null);try{var _res$data$items,_res$data$total,_res$data$has_next;const params={page:pg,page_size:PAGE_SIZE};if(sf!==\"ALL\")params.state=sf;const res=await api.get(\"/amendments\",{params});setAmendments((_res$data$items=res.data.items)!==null&&_res$data$items!==void 0?_res$data$items:[]);setTotal((_res$data$total=res.data.total)!==null&&_res$data$total!==void 0?_res$data$total:0);setHasNext((_res$data$has_next=res.data.has_next)!==null&&_res$data$has_next!==void 0?_res$data$has_next:false);}catch(e){var _ref1,_e$response$data$deta5,_e$response5,_e$response5$data,_e$response5$data$det;setError((_ref1=(_e$response$data$deta5=e===null||e===void 0?void 0:(_e$response5=e.response)===null||_e$response5===void 0?void 0:(_e$response5$data=_e$response5.data)===null||_e$response5$data===void 0?void 0:(_e$response5$data$det=_e$response5$data.detail)===null||_e$response5$data$det===void 0?void 0:_e$response5$data$det.message)!==null&&_e$response$data$deta5!==void 0?_e$response$data$deta5:e.message)!==null&&_ref1!==void 0?_ref1:\"Request failed\");}finally{setLoading(false);}},[page,stateFilter]);useEffect(()=>{load(page,stateFilter);},[page,stateFilter]);// eslint-disable-line\nconst handleFilter=sf=>{setStateFilter(sf);setPage(1);setSelected(null);};const handlePage=pg=>{setPage(pg);setSelected(null);};const handleRefresh=()=>{load(page,stateFilter);setSelected(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 flex-shrink-0 border-r border-slate-800 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 border-b border-slate-800 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-sm font-semibold text-slate-100\",children:\"Amendments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRefresh,disabled:loading,className:\"text-slate-500 hover:text-slate-300 transition-colors disabled:opacity-40\",children:/*#__PURE__*/_jsx(RefreshCw,{size:13,className:loading?\"animate-spin\":\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 border-b border-slate-800 flex flex-wrap gap-1\",children:STATE_FILTERS.map(sf=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilter(sf),className:\"px-2 py-0.5 rounded text-[10px] font-mono transition-colors border \".concat(stateFilter===sf?\"bg-indigo-600/20 text-indigo-300 border-indigo-500/40\":\"text-slate-500 border-slate-800 hover:text-slate-300 hover:border-slate-700\"),children:sf},sf))}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3\",children:/*#__PURE__*/_jsx(Err,{msg:error})}),loading&&!amendments.length&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-xs text-slate-600 animate-pulse\",children:\"Loading amendments\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto\",children:[amendments.map(a=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelected(a.amendment_id),className:\"w-full text-left px-4 py-3 border-b border-slate-800/50 transition-colors\\n                flex items-start justify-between group border-l-2 \".concat(selected===a.amendment_id?\"bg-indigo-600/10 border-l-indigo-500\":\"hover:bg-slate-800/40 border-l-transparent\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-mono truncate \".concat(selected===a.amendment_id?\"text-indigo-200\":\"text-slate-300\"),children:a.amendment_code}),/*#__PURE__*/_jsx(StateBadge,{state:a.current_state})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-1 flex-wrap\",children:[/*#__PURE__*/_jsx(TypeBadge,{type:a.amendment_type}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] text-slate-600 font-mono flex items-center gap-1\",children:[/*#__PURE__*/_jsx(User,{size:9}),a.proposed_by]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 mt-1\",children:[/*#__PURE__*/_jsx(Clock,{size:9,className:\"text-slate-700\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-slate-600\",children:ts(a.proposed_at)})]}),a.latest_transition_at&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-slate-700 mt-0.5 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(ArrowRight,{size:8}),\" last transition \",ts(a.latest_transition_at)]})]}),/*#__PURE__*/_jsx(ChevronRight,{size:12,className:\"flex-shrink-0 ml-2 mt-0.5 transition-colors \".concat(selected===a.amendment_id?\"text-indigo-400\":\"text-slate-700 group-hover:text-slate-500\")})]},a.amendment_id)),!loading&&amendments.length===0&&/*#__PURE__*/_jsxs(\"p\",{className:\"px-4 py-6 text-xs text-slate-600 text-center\",children:[\"No amendments\",stateFilter!==\"ALL\"?\" with state \".concat(stateFilter):\"\",\".\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 border-t border-slate-800 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] text-slate-700 font-mono\",children:[total,\" total\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePage(page-1),disabled:page===1||loading,className:\"p-1 rounded border border-slate-800 text-slate-500 hover:text-slate-300 disabled:opacity-30 transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:11})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] text-slate-600 font-mono\",children:[\"p\",page]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePage(page+1),disabled:!hasNext||loading,className:\"p-1 rounded border border-slate-800 text-slate-500 hover:text-slate-300 disabled:opacity-30 transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{size:11})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 min-w-0 overflow-hidden\",children:selected?/*#__PURE__*/_jsx(AmendmentDetail,{amendmentId:selected,onClose:()=>setSelected(null)},selected):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-full text-center px-8\",children:[/*#__PURE__*/_jsx(FileText,{size:32,className:\"text-slate-700 mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Select an amendment to inspect\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-700 mt-1\",children:\"Full history \\xB7 Consumption metadata \\xB7 Lifecycle actions\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useCallback","FileText","ChevronRight","ChevronLeft","RefreshCw","AlertTriangle","CheckCircle","XCircle","Play","Clock","User","ArrowRight","Package2","Zap","TrendingUp","TrendingDown","Minus","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","STATE_STYLE","PROPOSED","UNDER_REVIEW","APPROVED","EXECUTED","REJECTED","WITHDRAWN","TYPE_STYLE","SUBSTITUTION","MODIFICATION","DECOMMISSION","ADDITION","StateBadge","_ref","_STATE_STYLE$state","state","className","concat","children","TypeBadge","_ref2","_TYPE_STYLE$type","type","Spinner","size","Err","_ref3","msg","ts","iso","Date","toLocaleString","TERMINAL","Set","OUTCOME_STYLE","ALLOW","FLAG","DENY","SeverityBadge","_ref4","_m$severity","severity","m","CRITICAL","WARNING","INFORMATIONAL","DeltaIcon","_ref5","delta","SimulationPanel","_ref6","_OUTCOME_STYLE$result","amendmentId","onClose","loading","setLoading","error","setError","result","setResult","post","then","r","data","catch","e","_e$response$data$deta","_e$response","_e$response$data","_e$response$data$deta2","response","detail","message","finally","simulated_event_type","onClick","predicted_outcome","risk_delta","current_outcome","outcome_changed","critical_delta","warning_delta","predicted_violations","length","map","v","i","rule_code","affected_downstream_system_ids","id","String","substring","ActionPanel","_ref7","action","onDone","onCancel","isExecute","actor","setActor","notes","setNotes","label","approve","reject","execute","actKey","accent","submit","trim","_ref8","_e$response$data$deta3","_e$response2","_e$response2$data","_e$response2$data$det","_e$response3","_e$response3$data","value","onChange","target","placeholder","rows","disabled","AmendmentDetail","_ref9","_d$resolved_by","_d$transitions$length","_d$transitions","d","setD","setAction","showSim","setShowSim","load","get","_e$response$data$deta4","_e$response4","_e$response4$data","_e$response4$data$det","isTerminal","has","current_state","amendment_code","amendment_type","description","amendment_id","target_system_id","proposed_by","proposed_at","resolved_by","resolved_at","_ref0","val","cls","is_consumed","consumption","consumed_at","consumed_by_op","consuming_entity_id","consuming_entity_type","transitions","t","_t$transition_id","_t$from_state","from_state","to_state","transitioned_at","transitioned_by","transition_id","STATE_FILTERS","PAGE_SIZE","AmendmentConsole","amendments","setAmendments","total","setTotal","page","setPage","hasNext","setHasNext","stateFilter","setStateFilter","selected","setSelected","pg","arguments","undefined","sf","_res$data$items","_res$data$total","_res$data$has_next","params","page_size","res","items","has_next","_ref1","_e$response$data$deta5","_e$response5","_e$response5$data","_e$response5$data$det","handleFilter","handlePage","handleRefresh","a","latest_transition_at"],"sources":["/home/kavia/workspace/code-generation/vidartemp-241505/frontend/src/views/AmendmentConsole.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport {\n  FileText, ChevronRight, ChevronLeft, RefreshCw,\n  AlertTriangle, CheckCircle, XCircle, Play,\n  Clock, User, ArrowRight, Package2, Zap,\n  TrendingUp, TrendingDown, Minus,\n} from \"lucide-react\";\nimport api from \"../api/client\";\n\n/* ── shared style maps ─────────────────────────────────────────────────── */\n\nconst STATE_STYLE = {\n  PROPOSED:     \"bg-indigo-500/15 text-indigo-300 border-indigo-500/30\",\n  UNDER_REVIEW: \"bg-amber-500/15  text-amber-300  border-amber-500/30\",\n  APPROVED:     \"bg-emerald-500/15 text-emerald-300 border-emerald-500/30\",\n  EXECUTED:     \"bg-teal-500/15   text-teal-300   border-teal-500/30\",\n  REJECTED:     \"bg-red-500/15    text-red-300    border-red-500/30\",\n  WITHDRAWN:    \"bg-slate-500/15  text-slate-400  border-slate-600\",\n};\n\nconst TYPE_STYLE = {\n  SUBSTITUTION: \"bg-purple-500/15 text-purple-300 border-purple-500/30\",\n  MODIFICATION: \"bg-blue-500/15   text-blue-300   border-blue-500/30\",\n  DECOMMISSION: \"bg-red-500/15    text-red-300    border-red-500/30\",\n  ADDITION:     \"bg-emerald-500/15 text-emerald-300 border-emerald-500/30\",\n};\n\nconst StateBadge = ({ state }) => (\n  <span className={`inline-flex px-2 py-0.5 rounded border text-[10px] font-mono font-semibold\n    ${STATE_STYLE[state] ?? \"bg-slate-700 text-slate-300 border-slate-600\"}`}>\n    {state}\n  </span>\n);\n\nconst TypeBadge = ({ type }) => (\n  <span className={`inline-flex px-2 py-0.5 rounded border text-[10px] font-mono\n    ${TYPE_STYLE[type] ?? \"bg-slate-700 text-slate-400 border-slate-600\"}`}>\n    {type}\n  </span>\n);\n\nconst Spinner = () => <RefreshCw size={14} className=\"animate-spin text-slate-500\" />;\n\nconst Err = ({ msg }) => (\n  <div className=\"flex items-center gap-2 text-sm text-red-400 bg-red-500/10 border\n    border-red-500/20 rounded px-3 py-2 my-2\">\n    <AlertTriangle size={13} /> {msg}\n  </div>\n);\n\nconst ts = (iso) => iso ? new Date(iso).toLocaleString() : \"—\";\n\nconst TERMINAL = new Set([\"EXECUTED\", \"REJECTED\", \"WITHDRAWN\"]);\n\n/* ── simulation result panel ─────────────────────────────────────────── */\n\nconst OUTCOME_STYLE = {\n  ALLOW: \"text-emerald-300\",\n  FLAG:  \"text-amber-300\",\n  DENY:  \"text-red-300\",\n};\n\nconst SeverityBadge = ({ severity }) => {\n  const m = {\n    CRITICAL:     \"bg-red-500/15    text-red-300    border-red-500/30\",\n    WARNING:      \"bg-amber-500/15  text-amber-300  border-amber-500/30\",\n    INFORMATIONAL:\"bg-blue-500/15   text-blue-300   border-blue-500/30\",\n  };\n  return (\n    <span className={`inline-flex px-2 py-0.5 rounded border text-[10px] font-mono font-semibold\n      ${m[severity] ?? \"bg-slate-700 text-slate-300 border-slate-600\"}`}>\n      {severity}\n    </span>\n  );\n};\n\nconst DeltaIcon = ({ delta }) => {\n  if (delta > 0) return <TrendingUp size={12} className=\"text-red-400\" />;\n  if (delta < 0) return <TrendingDown size={12} className=\"text-emerald-400\" />;\n  return <Minus size={12} className=\"text-slate-600\" />;\n};\n\nfunction SimulationPanel({ amendmentId, onClose }) {\n  const [loading, setLoading] = useState(true);\n  const [error,   setError]   = useState(null);\n  const [result,  setResult]  = useState(null);\n\n  useEffect(() => {\n    setLoading(true); setError(null);\n    api.post(`/amendments/${amendmentId}/simulate`)\n      .then(r => setResult(r.data))\n      .catch(e => setError(e?.response?.data?.detail?.message ?? e.message))\n      .finally(() => setLoading(false));\n  }, [amendmentId]);\n\n  return (\n    <div className=\"mt-3 bg-[#0a0a10] border border-indigo-500/20 rounded-lg overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-2.5 border-b border-slate-800 bg-indigo-500/5\">\n        <div className=\"flex items-center gap-2\">\n          <Zap size={13} className=\"text-indigo-400\" />\n          <span className=\"text-[11px] font-mono text-indigo-300 uppercase tracking-widest\">\n            Impact Simulation\n          </span>\n          {result && (\n            <span className=\"text-[10px] text-slate-600 font-mono\">\n              — {result.simulated_event_type}\n            </span>\n          )}\n        </div>\n        <button onClick={onClose} className=\"text-slate-600 hover:text-slate-400 text-xs transition-colors\">✕</button>\n      </div>\n\n      <div className=\"p-4\">\n        {loading && (\n          <div className=\"flex items-center gap-2 text-slate-500 text-xs py-2\">\n            <Spinner /> Running simulation…\n          </div>\n        )}\n        {error && <Err msg={error} />}\n        {result && (\n          <div className=\"space-y-4\">\n\n            {/* Predicted outcome + risk delta */}\n            <div className=\"grid grid-cols-3 gap-3\">\n              <div className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n                <p className=\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\">Predicted</p>\n                <p className={`text-lg font-mono font-bold ${OUTCOME_STYLE[result.predicted_outcome] ?? \"text-slate-200\"}`}>\n                  {result.predicted_outcome}\n                </p>\n                {result.risk_delta.current_outcome && (\n                  <p className=\"text-[10px] text-slate-600 mt-0.5\">\n                    was <span className={OUTCOME_STYLE[result.risk_delta.current_outcome]}>{result.risk_delta.current_outcome}</span>\n                    {result.risk_delta.outcome_changed && <span className=\"text-amber-500 ml-1\">← changed</span>}\n                  </p>\n                )}\n                {!result.risk_delta.current_outcome && (\n                  <p className=\"text-[10px] text-slate-700 mt-0.5\">no prior evaluation</p>\n                )}\n              </div>\n\n              <div className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n                <p className=\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\">Critical Δ</p>\n                <div className=\"flex items-center gap-1.5\">\n                  <DeltaIcon delta={result.risk_delta.critical_delta} />\n                  <span className={`text-lg font-mono font-bold tabular-nums ${\n                    result.risk_delta.critical_delta > 0 ? \"text-red-300\" :\n                    result.risk_delta.critical_delta < 0 ? \"text-emerald-300\" : \"text-slate-500\"}`}>\n                    {result.risk_delta.critical_delta > 0 ? \"+\" : \"\"}{result.risk_delta.critical_delta}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n                <p className=\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\">Warning Δ</p>\n                <div className=\"flex items-center gap-1.5\">\n                  <DeltaIcon delta={result.risk_delta.warning_delta} />\n                  <span className={`text-lg font-mono font-bold tabular-nums ${\n                    result.risk_delta.warning_delta > 0 ? \"text-amber-300\" :\n                    result.risk_delta.warning_delta < 0 ? \"text-emerald-300\" : \"text-slate-500\"}`}>\n                    {result.risk_delta.warning_delta > 0 ? \"+\" : \"\"}{result.risk_delta.warning_delta}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Predicted violations */}\n            <div>\n              <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\">\n                Predicted Violations ({result.predicted_violations.length})\n              </p>\n              {result.predicted_violations.length === 0 ? (\n                <div className=\"flex items-center gap-2 text-xs text-emerald-400 bg-emerald-500/5 border border-emerald-500/20 rounded px-3 py-2\">\n                  <CheckCircle size={12} /> No violations predicted.\n                </div>\n              ) : (\n                <div className=\"space-y-1.5\">\n                  {result.predicted_violations.map((v, i) => (\n                    <div key={i} className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <SeverityBadge severity={v.severity} />\n                        <span className=\"text-[10px] font-mono text-slate-400\">{v.rule_code}</span>\n                      </div>\n                      <p className=\"text-xs text-slate-400\">{v.message}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Downstream */}\n            {result.affected_downstream_system_ids.length > 0 && (\n              <div className=\"bg-amber-500/5 border border-amber-500/20 rounded p-3\">\n                <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\">\n                  Affected Downstream ({result.affected_downstream_system_ids.length})\n                </p>\n                <div className=\"flex flex-wrap gap-1.5\">\n                  {result.affected_downstream_system_ids.map(id => (\n                    <span key={id} className=\"text-[10px] font-mono text-amber-300 bg-amber-500/10 border border-amber-500/20 px-2 py-0.5 rounded\">\n                      {String(id).substring(0, 8)}…\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n\nfunction ActionPanel({ amendmentId, action, onDone, onCancel }) {\n  const isExecute = action === \"execute\";\n  const [actor,   setActor]   = useState(\"\");\n  const [notes,   setNotes]   = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error,   setError]   = useState(null);\n\n  const label  = { approve: \"Approve\", reject: \"Reject\", execute: \"Execute\" }[action];\n  const actKey = isExecute ? \"resolved_by\" : \"transitioned_by\";\n\n  const accent = {\n    approve: \"bg-emerald-600 hover:bg-emerald-500\",\n    reject:  \"bg-red-700    hover:bg-red-600\",\n    execute: \"bg-teal-700   hover:bg-teal-600\",\n  }[action];\n\n  const submit = async () => {\n    if (!actor.trim()) { setError(\"Actor name is required.\"); return; }\n    setLoading(true); setError(null);\n    try {\n      await api.post(`/amendments/${amendmentId}/${action}`, {\n        [actKey]: actor.trim(),\n        notes:    notes.trim() || null,\n      });\n      onDone();\n    } catch (e) {\n      setError(e?.response?.data?.detail?.message ?? e?.response?.data?.detail ?? e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"mt-3 bg-[#0d0d14] border border-slate-700 rounded-lg p-4 space-y-3\">\n      <p className=\"text-xs text-slate-400 font-mono font-semibold uppercase tracking-widest\">\n        {label} Amendment\n      </p>\n      {error && <Err msg={error} />}\n\n      <div className=\"space-y-2\">\n        <label className=\"text-[11px] text-slate-500\">\n          {isExecute ? \"Resolved by\" : \"Actioned by\"} <span className=\"text-red-400\">*</span>\n        </label>\n        <input\n          value={actor}\n          onChange={e => setActor(e.target.value)}\n          placeholder=\"actor / system identifier\"\n          className=\"w-full bg-[#09090e] border border-slate-700 rounded px-3 py-1.5\n            text-xs text-slate-200 placeholder-slate-600 focus:outline-none\n            focus:border-indigo-500 transition-colors\"\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <label className=\"text-[11px] text-slate-500\">Notes (optional)</label>\n        <textarea\n          value={notes}\n          onChange={e => setNotes(e.target.value)}\n          rows={2}\n          placeholder=\"Rationale or context…\"\n          className=\"w-full bg-[#09090e] border border-slate-700 rounded px-3 py-1.5\n            text-xs text-slate-200 placeholder-slate-600 focus:outline-none\n            focus:border-indigo-500 transition-colors resize-none\"\n        />\n      </div>\n\n      <div className=\"flex items-center gap-2 pt-1\">\n        <button\n          onClick={submit}\n          disabled={loading}\n          className={`px-4 py-1.5 rounded text-xs font-semibold text-white\n            transition-colors disabled:opacity-40 ${accent}`}\n        >\n          {loading ? \"Submitting…\" : `Confirm ${label}`}\n        </button>\n        <button\n          onClick={onCancel}\n          disabled={loading}\n          className=\"px-3 py-1.5 rounded text-xs text-slate-400 hover:text-slate-200\n            border border-slate-700 hover:border-slate-600 transition-colors\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  );\n}\n\n/* ── amendment detail panel ────────────────────────────────────────────── */\n\nfunction AmendmentDetail({ amendmentId, onClose }) {\n  const [d,       setD]       = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error,   setError]   = useState(null);\n  const [action,  setAction]  = useState(null); // \"approve\" | \"reject\" | \"execute\"\n  const [showSim, setShowSim] = useState(false);\n\n  const load = useCallback(() => {\n    setLoading(true); setError(null); setAction(null);\n    api.get(`/amendments/${amendmentId}`)\n      .then(r => setD(r.data))\n      .catch(e => setError(e?.response?.data?.detail?.message ?? e.message))\n      .finally(() => setLoading(false));\n  }, [amendmentId]);\n\n  useEffect(() => { load(); }, [load]);\n\n  if (loading) return <div className=\"p-5 flex items-center gap-2 text-slate-500\"><Spinner /><span className=\"text-xs\">Loading…</span></div>;\n  if (error)   return <div className=\"p-5\"><Err msg={error} /></div>;\n  if (!d)      return null;\n\n  const isTerminal = TERMINAL.has(d.current_state);\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"px-5 py-4 border-b border-slate-800 flex items-start justify-between\">\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <FileText size={14} className=\"text-indigo-400 flex-shrink-0\" />\n            <span className=\"text-sm font-semibold font-mono text-slate-100 truncate\">\n              {d.amendment_code}\n            </span>\n            <StateBadge state={d.current_state} />\n            <TypeBadge  type={d.amendment_type} />\n          </div>\n          <p className=\"text-xs text-slate-500 mt-1.5 leading-relaxed\">{d.description}</p>\n        </div>\n        <button onClick={onClose} className=\"ml-3 text-slate-600 hover:text-slate-300 text-sm transition-colors flex-shrink-0\">✕</button>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto px-5 py-4 space-y-5\">\n\n        {/* Meta grid */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          {[\n            [\"Amendment ID\",  d.amendment_id,     \"mono\"],\n            [\"Target System\", d.target_system_id, \"mono\"],\n            [\"Proposed By\",   d.proposed_by,      \"\"],\n            [\"Proposed At\",   ts(d.proposed_at),  \"\"],\n            [\"Resolved By\",   d.resolved_by ?? \"—\", \"\"],\n            [\"Resolved At\",   ts(d.resolved_at),  \"\"],\n          ].map(([label, val, cls]) => (\n            <div key={label} className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n              <p className=\"text-[10px] text-slate-600 font-mono uppercase tracking-wider mb-1\">{label}</p>\n              <p className={`text-xs text-slate-300 break-all ${cls === \"mono\" ? \"font-mono\" : \"\"}`}>{val}</p>\n            </div>\n          ))}\n        </div>\n\n        {/* Simulation */}\n        <div>\n          <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\">Simulation</p>\n          <button\n            onClick={() => setShowSim(v => !v)}\n            className=\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs\n              bg-indigo-600/15 text-indigo-300 border border-indigo-500/30\n              hover:bg-indigo-600/25 transition-colors\"\n          >\n            <Zap size={12} /> {showSim ? \"Hide Simulation\" : \"Run Impact Simulation\"}\n          </button>\n          {showSim && (\n            <SimulationPanel\n              amendmentId={d.amendment_id}\n              onClose={() => setShowSim(false)}\n            />\n          )}\n        </div>\n\n        {/* Actions */}\n        {!isTerminal && (\n          <div>\n            <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\">Actions</p>\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              {(d.current_state === \"PROPOSED\" || d.current_state === \"UNDER_REVIEW\") && (\n                <>\n                  <button\n                    onClick={() => setAction(action === \"approve\" ? null : \"approve\")}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs\n                      bg-emerald-600/20 text-emerald-300 border border-emerald-600/30\n                      hover:bg-emerald-600/30 transition-colors\"\n                  >\n                    <CheckCircle size={12} /> Approve\n                  </button>\n                  <button\n                    onClick={() => setAction(action === \"reject\" ? null : \"reject\")}\n                    className=\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs\n                      bg-red-600/20 text-red-300 border border-red-600/30\n                      hover:bg-red-600/30 transition-colors\"\n                  >\n                    <XCircle size={12} /> Reject\n                  </button>\n                </>\n              )}\n              {d.current_state === \"APPROVED\" && (\n                <button\n                  onClick={() => setAction(action === \"execute\" ? null : \"execute\")}\n                  className=\"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs\n                    bg-teal-600/20 text-teal-300 border border-teal-600/30\n                    hover:bg-teal-600/30 transition-colors\"\n                >\n                  <Play size={12} /> Execute\n                </button>\n              )}\n            </div>\n\n            {action && (\n              <ActionPanel\n                amendmentId={d.amendment_id}\n                action={action}\n                onDone={load}\n                onCancel={() => setAction(null)}\n              />\n            )}\n          </div>\n        )}\n\n        {/* Consumption */}\n        {d.is_consumed && d.consumption && (\n          <div className=\"bg-teal-500/5 border border-teal-500/20 rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-3\">\n              <Package2 size={13} className=\"text-teal-400\" />\n              <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest\">Consumed</p>\n            </div>\n            <div className=\"grid grid-cols-2 gap-2 text-xs\">\n              <div>\n                <p className=\"text-[10px] text-slate-600 font-mono mb-0.5\">Consumed At</p>\n                <p className=\"text-slate-300\">{ts(d.consumption.consumed_at)}</p>\n              </div>\n              <div>\n                <p className=\"text-[10px] text-slate-600 font-mono mb-0.5\">Operation</p>\n                <p className=\"text-slate-300 font-mono\">{d.consumption.consumed_by_op}</p>\n              </div>\n              <div>\n                <p className=\"text-[10px] text-slate-600 font-mono mb-0.5\">Entity</p>\n                <p className=\"text-slate-300 font-mono text-[10px] break-all\">{d.consumption.consuming_entity_id}</p>\n              </div>\n              <div>\n                <p className=\"text-[10px] text-slate-600 font-mono mb-0.5\">Entity Type</p>\n                <p className=\"text-slate-300\">{d.consumption.consuming_entity_type}</p>\n              </div>\n              {d.consumption.notes && (\n                <div className=\"col-span-2\">\n                  <p className=\"text-[10px] text-slate-600 font-mono mb-0.5\">Notes</p>\n                  <p className=\"text-slate-400\">{d.consumption.notes}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Transition history */}\n        <div>\n          <p className=\"text-[10px] text-slate-500 font-mono uppercase tracking-widest mb-2\">\n            Transition History ({d.transitions?.length ?? 0})\n          </p>\n          {(!d.transitions || d.transitions.length === 0) ? (\n            <p className=\"text-xs text-slate-700\">No transitions recorded.</p>\n          ) : (\n            <div className=\"space-y-2\">\n              {d.transitions.map((t, i) => (\n                <div key={t.transition_id ?? i}\n                  className=\"bg-[#0d0d14] border border-slate-800 rounded p-3\">\n                  <div className=\"flex items-center gap-2 flex-wrap\">\n                    <span className=\"text-[10px] font-mono text-slate-500\">\n                      {t.from_state ?? \"—\"}\n                    </span>\n                    <ArrowRight size={10} className=\"text-slate-700 flex-shrink-0\" />\n                    <StateBadge state={t.to_state} />\n                    <span className=\"ml-auto text-[10px] text-slate-600\">{ts(t.transitioned_at)}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1.5 mt-1.5\">\n                    <User size={10} className=\"text-slate-600\" />\n                    <span className=\"text-[10px] text-slate-500 font-mono\">{t.transitioned_by}</span>\n                    {t.notes && (\n                      <span className=\"text-[10px] text-slate-600 ml-2\">— {t.notes}</span>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\n/* ── amendment list ─────────────────────────────────────────────────────── */\n\nconst STATE_FILTERS = [\n  \"ALL\", \"PROPOSED\", \"UNDER_REVIEW\", \"APPROVED\", \"EXECUTED\", \"REJECTED\", \"WITHDRAWN\",\n];\nconst PAGE_SIZE = 20;\n\nexport default function AmendmentConsole() {\n  const [amendments, setAmendments] = useState([]);\n  const [total,      setTotal]      = useState(0);\n  const [page,       setPage]       = useState(1);\n  const [hasNext,    setHasNext]    = useState(false);\n  const [stateFilter, setStateFilter] = useState(\"ALL\");\n  const [loading,    setLoading]    = useState(true);\n  const [error,      setError]      = useState(null);\n  const [selected,   setSelected]   = useState(null);\n\n  const load = useCallback(async (pg = page, sf = stateFilter) => {\n    setLoading(true); setError(null);\n    try {\n      const params = { page: pg, page_size: PAGE_SIZE };\n      if (sf !== \"ALL\") params.state = sf;\n      const res = await api.get(\"/amendments\", { params });\n      setAmendments(res.data.items ?? []);\n      setTotal(res.data.total ?? 0);\n      setHasNext(res.data.has_next ?? false);\n    } catch (e) {\n      setError(e?.response?.data?.detail?.message ?? e.message ?? \"Request failed\");\n    } finally {\n      setLoading(false);\n    }\n  }, [page, stateFilter]);\n\n  useEffect(() => { load(page, stateFilter); }, [page, stateFilter]); // eslint-disable-line\n\n  const handleFilter = (sf) => { setStateFilter(sf); setPage(1); setSelected(null); };\n  const handlePage   = (pg) => { setPage(pg); setSelected(null); };\n  const handleRefresh = () => { load(page, stateFilter); setSelected(null); };\n\n  return (\n    <div className=\"flex h-full\">\n\n      {/* ── Left: list ── */}\n      <div className=\"w-80 flex-shrink-0 border-r border-slate-800 flex flex-col\">\n\n        {/* Toolbar */}\n        <div className=\"px-4 py-3 border-b border-slate-800 flex items-center justify-between\">\n          <h1 className=\"text-sm font-semibold text-slate-100\">Amendments</h1>\n          <button onClick={handleRefresh} disabled={loading}\n            className=\"text-slate-500 hover:text-slate-300 transition-colors disabled:opacity-40\">\n            <RefreshCw size={13} className={loading ? \"animate-spin\" : \"\"} />\n          </button>\n        </div>\n\n        {/* State filter */}\n        <div className=\"px-3 py-2 border-b border-slate-800 flex flex-wrap gap-1\">\n          {STATE_FILTERS.map(sf => (\n            <button\n              key={sf}\n              onClick={() => handleFilter(sf)}\n              className={`px-2 py-0.5 rounded text-[10px] font-mono transition-colors border ${\n                stateFilter === sf\n                  ? \"bg-indigo-600/20 text-indigo-300 border-indigo-500/40\"\n                  : \"text-slate-500 border-slate-800 hover:text-slate-300 hover:border-slate-700\"\n              }`}\n            >\n              {sf}\n            </button>\n          ))}\n        </div>\n\n        {error && <div className=\"p-3\"><Err msg={error} /></div>}\n        {loading && !amendments.length && (\n          <div className=\"p-4 text-xs text-slate-600 animate-pulse\">Loading amendments…</div>\n        )}\n\n        {/* List */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {amendments.map(a => (\n            <button\n              key={a.amendment_id}\n              onClick={() => setSelected(a.amendment_id)}\n              className={`w-full text-left px-4 py-3 border-b border-slate-800/50 transition-colors\n                flex items-start justify-between group border-l-2 ${\n                  selected === a.amendment_id\n                    ? \"bg-indigo-600/10 border-l-indigo-500\"\n                    : \"hover:bg-slate-800/40 border-l-transparent\"\n                }`}\n            >\n              <div className=\"min-w-0 flex-1\">\n                <div className=\"flex items-center gap-1.5 flex-wrap\">\n                  <span className={`text-xs font-mono truncate ${\n                    selected === a.amendment_id ? \"text-indigo-200\" : \"text-slate-300\"}`}>\n                    {a.amendment_code}\n                  </span>\n                  <StateBadge state={a.current_state} />\n                </div>\n                <div className=\"flex items-center gap-2 mt-1 flex-wrap\">\n                  <TypeBadge type={a.amendment_type} />\n                  <span className=\"text-[10px] text-slate-600 font-mono flex items-center gap-1\">\n                    <User size={9} />{a.proposed_by}\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-1 mt-1\">\n                  <Clock size={9} className=\"text-slate-700\" />\n                  <span className=\"text-[10px] text-slate-600\">{ts(a.proposed_at)}</span>\n                </div>\n                {a.latest_transition_at && (\n                  <p className=\"text-[10px] text-slate-700 mt-0.5 flex items-center gap-1\">\n                    <ArrowRight size={8} /> last transition {ts(a.latest_transition_at)}\n                  </p>\n                )}\n              </div>\n              <ChevronRight size={12} className={`flex-shrink-0 ml-2 mt-0.5 transition-colors ${\n                selected === a.amendment_id ? \"text-indigo-400\" : \"text-slate-700 group-hover:text-slate-500\"\n              }`} />\n            </button>\n          ))}\n          {!loading && amendments.length === 0 && (\n            <p className=\"px-4 py-6 text-xs text-slate-600 text-center\">\n              No amendments{stateFilter !== \"ALL\" ? ` with state ${stateFilter}` : \"\"}.\n            </p>\n          )}\n        </div>\n\n        {/* Pagination */}\n        <div className=\"px-4 py-2 border-t border-slate-800 flex items-center justify-between\">\n          <span className=\"text-[10px] text-slate-700 font-mono\">{total} total</span>\n          <div className=\"flex items-center gap-1.5\">\n            <button onClick={() => handlePage(page - 1)} disabled={page === 1 || loading}\n              className=\"p-1 rounded border border-slate-800 text-slate-500 hover:text-slate-300\n                disabled:opacity-30 transition-colors\">\n              <ChevronLeft size={11} />\n            </button>\n            <span className=\"text-[10px] text-slate-600 font-mono\">p{page}</span>\n            <button onClick={() => handlePage(page + 1)} disabled={!hasNext || loading}\n              className=\"p-1 rounded border border-slate-800 text-slate-500 hover:text-slate-300\n                disabled:opacity-30 transition-colors\">\n              <ChevronRight size={11} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* ── Right: detail ── */}\n      <div className=\"flex-1 min-w-0 overflow-hidden\">\n        {selected ? (\n          <AmendmentDetail\n            key={selected}\n            amendmentId={selected}\n            onClose={() => setSelected(null)}\n          />\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full text-center px-8\">\n            <FileText size={32} className=\"text-slate-700 mb-3\" />\n            <p className=\"text-sm text-slate-500\">Select an amendment to inspect</p>\n            <p className=\"text-xs text-slate-700 mt-1\">\n              Full history · Consumption metadata · Lifecycle actions\n            </p>\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}